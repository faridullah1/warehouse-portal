<div class="p-8 flex flex-wrap items-start files" *ngIf="!loadingFiles">
    <div class="flex flex-wrap items-stretch w-full">
        <fuse-card class="flex flex-col max-w-80 w-full px-8 pt-6 pb-4 filter-list" *ngFor="let file of files;">
            <div class="flex items-center justify-between">
                <div class="text-2xl font-semibold leading-tight">{{ file.reference }}</div>
                <div class="-mr-3">
                    <button
                        mat-icon-button
                        [matMenuTriggerFor]="listCard09Menu">
                        <mat-icon
                            class="icon-size-5"
                            [svgIcon]="'heroicons_solid:dots-vertical'"></mat-icon>
                    </button>
                    <mat-menu #listCard09Menu="matMenu">
                        <button mat-menu-item (click)="onDownloadFile(file)">Download</button>

                        <button mat-menu-item  (click)="onGeneratePDFReport(file)">
                            <div class="flex items-center">
                                <span>Generate pdf report</span>
                                <!-- <mat-progress-spinner *ngIf="disableGeneratePdfBtn"
                                    diameter="20"
                                    strokeWidth="3"
                                    class="btn-spinner"
                                    color="accent"
                                    mode="indeterminate">
                                </mat-progress-spinner> -->
                            </div>
                        </button>

                        <!-- <button mat-menu-item (click)="onGeneratePDFReport(file)">
                            <span>Generate pdf report</span>
                        </button> -->
                    </mat-menu>
                </div>
            </div>
    
            <div class="flex items-center" *ngIf="file.isDamaged">
                <mat-icon class="mr-3 primary">check_circle</mat-icon>
                <div>Contain damaged goods</div>
            </div>
    
            <div class="flex flex-wrap mt-6">
                <img *ngFor="let picture of file.pictures | firstEight:file.maxImagesToShow"
                    class="w-14 h-14 rounded object-cover file-image"
                    [src]="picture"
                    alt="File Image">
            </div>
    
            <div class="flex items-center mt-6 -mx-3" *ngIf="file.maxImagesToShow < file.pictures.length;">
                <a
                    class="px-3"
                    (click)="file.maxImagesToShow = file.pictures.length"
                    mat-button
                    [color]="'primary'"
                    [routerLink]="['./']">
                    See entire file list
                </a>
            </div>
        </fuse-card>
    </div>

    <div class="w-full flex justify-center" *ngIf="files.length === 0;">
        <h3 class="text-3xl font-bold dark:text-white">No file added yet</h3>
    </div>
</div>

<div class="p-8 w-full flex justify-center items-center" *ngIf="loadingFiles">
    <mat-spinner diameter="60"></mat-spinner>
</div>